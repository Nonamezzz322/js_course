{"version":3,"sources":["location_api.js","dom.js","index.js"],"names":["LocationApi","fetch","your_ip","Dom","text","document","getElementsByTagName","preloader","createElement","append","style","width","height","background","remove","coordinates","p","color","fontSize","fontFamily","fontWeight","innerText","latitude","longitude","country_name","city","ip","location","dom","showPreloader","promise","Promise","resolve","reject","getMyIp","then","json","getMyLocation","catch","err","console","log","setCoordinates","hidePreloader"],"mappings":"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","file":"lesson_20.e31bb0bc.map","sourceRoot":"..","sourcesContent":["export default class LocationApi {\r\n\tgetMyIp() {\r\n\t\treturn fetch ('https://api.ipify.org?format=json')\r\n\t}\r\n\tgetMyLocation(your_ip) {\r\n\t\treturn fetch('http://api.ipstack.com/'+your_ip+'?access_key=ea06658607226dda76d14f5d1a8f8bef')\r\n\t\r\n\t\t}\r\n};","export default class Dom {\r\n\tconstructor(){\r\n\t\tthis.text = document.getElementsByTagName('body')[0];\r\n\t\tthis.preloader = document.createElement('div');\r\n\t\tthis.text.append(this.preloader)\t\r\n\t}\r\n\tshowPreloader(){\r\n\t\tthis.preloader.style.width=\"200px\";\r\n\t\tthis.preloader.style.height=\"200px\";\r\n\t\tthis.preloader.style.background=\"url(preloader.svg) no-repeat 50% 50%/cover\"           \r\n\t}\r\n\r\n\thidePreloader(){\r\n\t\tthis.preloader.remove()\t\r\n\t}\r\n\r\n\tsetCoordinates(coordinates) {\r\n\t\tthis.p = document.createElement('p');\r\n        this.text.append(this.p);\r\n        this.p.style.color=\"brown\";\r\n        this.p.style.fontSize=\"25px\";\r\n        this.p.style.fontFamily = \"Arial\";\r\n        this.p.style.fontWeight=\"600\";\r\n        this.p.innerText = `Your latitude: ${coordinates.latitude}, Your longitude: ${coordinates.longitude}, Your country: ${coordinates.country_name}, Your city: ${coordinates.city} and your IP: ${coordinates.ip}`                \r\n    }\r\n};","import LocationApi from \"./location_api.js\"\r\nimport Dom from \"./dom.js\"\r\n\r\nlet location = new LocationApi()\r\nlet dom = new Dom()\r\n\r\ndom.showPreloader()\r\n\t\r\nlet promise = new Promise(function(resolve,reject){\r\n\tresolve(location.getMyIp())\r\n})\r\n\r\n.then((resolve) =>resolve.json())\r\n.then((resolve)=>resolve.ip)\r\n.then((resolve)=>location.getMyLocation(resolve))\r\n.catch((err)=>console.log(err))\r\n.then((resolve)=>resolve.json())\r\n.then((resolve)=>dom.setCoordinates(resolve))\r\n.catch((err)=>console.log(err))\r\n.then((resolve)=>dom.hidePreloader())\r\n.catch((err)=>console.log(err));"]}